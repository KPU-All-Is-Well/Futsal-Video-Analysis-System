
<!DOCTYPE html>
<html>
<head>
<title>Google chart </title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript"
    src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript"
    src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
    var queryObject = "";
    var queryObjectLen = "";
    $.ajax({
        type : 'POST',
        url : 'googleChart_Process.jsp',
        dataType : 'json',
        success : function(data) {
            
            
            queryObject = eval('(' + JSON.stringify(data,null, 2) + ')');             
            // stringify : 인자로 전달된 자바스크립트의 데이터(배열)를 JSON문자열로 바꾸기.   
            // eval: javascript 코드가 맞는지 검증하고 문자열을 자바스크립트 코드로 처리하는 함수 
            // queryObject.barlist[0].city ="korea"
 
            queryObjectLen = queryObject.barlist.length;
            // queryObject.empdetails 에는 4개의 Json 객체가 있음 
 
            //alert('ㅋㅋ' + queryObjectLen);
            // alert(queryObject.barlist[0].city +queryObject.barlist[0].per );
        },
        error : function(xhr, type) {
            alert('server error occured')
        }
    });
 
    
    
    google.charts.load('current', {
        packages : [ 'corechart', 'bar' ]
    });
    google.charts.setOnLoadCallback(drawMultSeries);
 
    function drawMultSeries() {
        
         var data = new google.visualization.DataTable();
         data.addColumn('string', 'name');
         data.addColumn('number', 'totalDistance');
         data.addColumn('number', 'maxSpeed');
 
        //alert('data생성');
        for (var i = 0; i < queryObjectLen; i++) {
            var name = queryObject.barlist[i].name;
            var totalDistance = queryObject.barlist[i].totalDistance;
            var maxSpeed = queryObject.barlist[i].maxSpeed;
            
            //alert(city + amount + per);
             data.addRows([
                            [name,totalDistance,maxSpeed]
                        ]);
 
        }
 
        var options = {
                title: ' ',
                titleTextStyle: { 
                    color: 'white' // 타이틀 색
                },
                chartArea: {width: '65%'},
                hAxis: {
                  title: ' ',
                  minValue: 0,
                  color: 'white',
                  textStyle: {
                    bold: true,
                    fontSize: 12,
                    color: 'white'
                  },
                  titleTextStyle: {
                    bold: true,
                    fontSize: 18,
                    color: '#4d4d4d'
                  }
                },
                vAxis: {
                  title: ' ',
                  titleTextStyle: { 
                      color: 'white' // 타이틀 색
                  },
                  textStyle: {
                    fontSize: 14,
                    bold: true,
                    color: 'white'
                  },
                  titleTextStyle: {
                    fontSize: 14,
                    bold: true,
                    color: '#848484'
                  }
                  
                },
                backgroundColor: {
                	fill : '#000000', //#01253f 남색, #001b2d 찐남색
                	opacity : 100
                },
                legend:{ // 항목
                    textStyle:{
                       color:'white'
                    }
                }
                
                
              };
          

       
        var chart = new google.visualization.BarChart(document
                .getElementById('chart_div'));
        chart.draw(data, options);
        

    }
</script>
</head>
<style>
	body{
		background-color: #000000;
	}
</style>
<body >
    <div id="chart_div" style="width: 800px; height: 300px;"></div>
 
</body>
</html>